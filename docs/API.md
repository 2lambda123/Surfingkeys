<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [mapkey][1]
    *   [Parameters][2]
    *   [Examples][3]
*   [vmapkey][4]
    *   [Parameters][5]
*   [imapkey][6]
    *   [Parameters][7]
*   [map][8]
    *   [Parameters][9]
    *   [Examples][10]
*   [unmap][11]
    *   [Parameters][12]
    *   [Examples][13]
*   [unmapAllExcept][14]
    *   [Parameters][15]
    *   [Examples][16]
*   [imap][17]
    *   [Parameters][18]
*   [iunmap][19]
    *   [Parameters][20]
*   [cmap][21]
    *   [Parameters][22]
*   [vmap][23]
    *   [Parameters][24]
*   [vunmap][25]
    *   [Parameters][26]
*   [aceVimMap][27]
    *   [Parameters][28]
    *   [Examples][29]
*   [addSearchAlias][30]
    *   [Parameters][31]
    *   [Examples][32]
*   [removeSearchAlias][33]
    *   [Parameters][34]
    *   [Examples][35]
*   [Clipboard.read][36]
    *   [Parameters][37]
    *   [Examples][38]
*   [Clipboard.write][39]
    *   [Parameters][40]
    *   [Examples][41]
*   [Hints.click][42]
    *   [Parameters][43]
    *   [Examples][44]
*   [Hints.create][45]
    *   [Parameters][46]
    *   [Examples][47]
*   [Hints.dispatchMouseClick][48]
    *   [Parameters][49]
    *   [Examples][50]
*   [Hints.style][51]
    *   [Parameters][52]
    *   [Examples][53]
*   [Visual.style][54]
    *   [Parameters][55]
    *   [Examples][56]
*   [Front.showEditor][57]
    *   [Parameters][58]
    *   [Examples][59]
*   [Front.openOmnibar][60]
    *   [Parameters][61]
    *   [Examples][62]
*   [Front.showBanner][63]
    *   [Parameters][64]
    *   [Examples][65]
*   [Front.showPopup][66]
    *   [Parameters][67]
    *   [Examples][68]
*   [getClickableElements][69]
    *   [Parameters][70]
    *   [Examples][71]
*   [tabOpenLink][72]
    *   [Parameters][73]
    *   [Examples][74]
*   [RUNTIME][75]
    *   [Parameters][76]
    *   [Examples][77]

## mapkey

Create a shortcut in normal mode to execute your own action.

### Parameters

*   `keys` **[string][78]** the key sequence for the shortcut.
*   `annotation` **[string][78]** a help message to describe the action, which will displayed in help opened by `?`.
*   `jscode` **[function][79]** a Javascript function to be bound. If the function needs an argument, next pressed key will be fed to the function.
*   `options` **[object][80]** `domain`: regex, a Javascript regex pattern to identify the domains that this mapping works, for example, `/github\.com/i` says that this mapping works only for github.com, `repeatIgnore`: boolean, whether this action can be repeated by dot command. (optional, default `null`)

### Examples

```javascript
mapkey("<Space>", "pause/resume on youtube", function() {
    var btn = document.querySelector("button.ytp-ad-overlay-close-button") || document.querySelector("button.ytp-ad-skip-button") || document.querySelector('ytd-watch-flexy button.ytp-play-button');
    btn.click();
}, {domain: /youtube.com/i});
```

## vmapkey

*   **See**: mapkey

Create a shortcut in visual mode to execute your own action.

### Parameters

*   `keys` **[string][78]** the key sequence for the shortcut.
*   `annotation` **[string][78]** a help message to describe the action, which will displayed in help opened by `?`.
*   `jscode` **[function][79]** a Javascript function to be bound. If the function needs an argument, next pressed key will be fed to the function.
*   `options` **[object][80]** `domain`: regex, a Javascript regex pattern to identify the domains that this mapping works, for example, `/github\.com/i` says that this mapping works only for github.com, `repeatIgnore`: boolean, whether this action can be repeated by dot command. (optional, default `null`)

## imapkey

*   **See**: mapkey

Create a shortcut in insert mode to execute your own action.

### Parameters

*   `keys` **[string][78]** the key sequence for the shortcut.
*   `annotation` **[string][78]** a help message to describe the action, which will displayed in help opened by `?`.
*   `jscode` **[function][79]** a Javascript function to be bound. If the function needs an argument, next pressed key will be fed to the function.
*   `options` **[object][80]** `domain`: regex, a Javascript regex pattern to identify the domains that this mapping works, for example, `/github\.com/i` says that this mapping works only for github.com, `repeatIgnore`: boolean, whether this action can be repeated by dot command. (optional, default `null`)

## map

Map a key sequence to another in normal mode.

### Parameters

*   `new_keystroke` **[string][78]** a key sequence to replace
*   `old_keystroke` **[string][78]** a key sequence to be replaced
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping works. (optional, default `null`)
*   `new_annotation` **[string][78]** use it instead of the annotation from old_keystroke if provided. (optional, default `null`)

### Examples

```javascript
map(';d', '<Ctrl-Alt-d>');
```

## unmap

Unmap a key sequence in normal mode.

### Parameters

*   `keystroke` **[string][78]** a key sequence to be removed.
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping will be removed. (optional, default `null`)

### Examples

```javascript
unmap("<<", /youtube.com/);
```

## unmapAllExcept

Unmap all keybindings except those specified.

### Parameters

*   `keystrokes` **[array][81]** the keybindings you want to keep.
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping will be removed. (optional, default `null`)

### Examples

```javascript
unmapAllExcept(['E','R','T'], /google.com|twitter.com/);
```

## imap

*   **See**: map

Map a key sequence to another in insert mode.

### Parameters

*   `new_keystroke` **[string][78]** a key sequence to replace
*   `old_keystroke` **[string][78]** a key sequence to be replaced
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping works. (optional, default `null`)
*   `new_annotation` **[string][78]** use it instead of the annotation from old_keystroke if provided. (optional, default `null`)

## iunmap

*   **See**: unmap

Unmap a key sequence in insert mode.

### Parameters

*   `keystroke` **[string][78]** a key sequence to be removed.
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping will be removed. (optional, default `null`)

## cmap

*   **See**: map

Map a key sequence to another in omnibar.

### Parameters

*   `new_keystroke` **[string][78]** a key sequence to replace
*   `old_keystroke` **[string][78]** a key sequence to be replaced
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping works. (optional, default `null`)
*   `new_annotation` **[string][78]** use it instead of the annotation from old_keystroke if provided. (optional, default `null`)

## vmap

*   **See**: map

Map a key sequence to another in visual mode.

### Parameters

*   `new_keystroke` **[string][78]** a key sequence to replace
*   `old_keystroke` **[string][78]** a key sequence to be replaced
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping works. (optional, default `null`)
*   `new_annotation` **[string][78]** use it instead of the annotation from old_keystroke if provided. (optional, default `null`)

## vunmap

*   **See**: unmap

Unmap a key sequence in visual mode.

### Parameters

*   `keystroke` **[string][78]** a key sequence to be removed.
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping will be removed. (optional, default `null`)

## aceVimMap

Map the key sequence `lhs` to `rhs` for mode `ctx` in ACE editor.

### Parameters

*   `lhs` **[string][78]** a key sequence to replace
*   `rhs` **[string][78]** a key sequence to be replaced
*   `ctx` **[string][78]** a mode such as `insert`, `normal`.

### Examples

```javascript
aceVimMap('J', ':bn', 'normal');
```

## addSearchAlias

Add a search engine alias into Omnibar.

### Parameters

*   `alias` **[string][78]** the key to trigger this search engine, one or several chars, used as search alias, when you input the string and press `space` in omnibar, the search engine will be triggered.
*   `prompt` **[string][78]** a caption to be placed in front of the omnibar.
*   `search_url` **[string][78]** the URL of the search engine
*   `search_leader_key` **[string][78]** `<search_leader_key><alias>` in normal mode will search selected text with this search engine directly without opening the omnibar, for example `sd`. (optional, default `s`)
*   `suggestion_url` **[string][78]** the URL to fetch suggestions in omnibar when this search engine is triggered. (optional, default `null`)
*   `callback_to_parse_suggestion` **[function][79]** a function to parse response from `suggestion_url` and return a list of strings as suggestions. (optional, default `null`)
*   `only_this_site_key` **[string][78]** `<search_leader_key><only_this_site_key><alias>` in normal mode will search selected text within current site with this search engine directly without opening the omnibar, for example `sod`. (optional, default `o`)

### Examples

```javascript
addSearchAlias('d', 'duckduckgo', 'https://duckduckgo.com/?q=', 's', 'https://duckduckgo.com/ac/?q=', function(response) {
    var res = JSON.parse(response.text);
    return res.map(function(r){
        return r.phrase;
    });
});
```

## removeSearchAlias

Remove a search engine alias from Omnibar.

### Parameters

*   `alias` **[string][78]** the alias of the search engine to be removed.
*   `search_leader_key` **[string][78]** `<search_leader_key><alias>` in normal mode will search selected text with this search engine directly without opening the omnibar, for example `sd`. (optional, default `s`)
*   `only_this_site_key` **[string][78]** `<search_leader_key><only_this_site_key><alias>` in normal mode will search selected text within current site with this search engine directly without opening the omnibar, for example `sod`. (optional, default `o`)

### Examples

```javascript
removeSearchAlias('d');
```

## Clipboard.read

Read from clipboard.

### Parameters

*   `onReady` **[function][79]** a callback function to handle text read from clipboard.

### Examples

```javascript
Clipboard.read(function(response) {
  console.log(response.data);
});
```

## Clipboard.write

Write text to clipboard.

### Parameters

*   `text` **[string][78]** the text to be written to clipboard.

### Examples

```javascript
Clipboard.write(window.location.href);
```

## Hints.click

Click element or create hints for elements to click.

### Parameters

*   `links`  `string or array of HTMLElement`, click on it if there is only one in the array or `force` parameter is true, otherwise hints will be generated for them. If `links` is a string, it will be used as css selector for `getClickableElements`.
*   `force` **[boolean][82]** force to click the first input element whether there are more than one elements in `links` or not. (optional, default `false`)

### Examples

```javascript
mapkey('zz', 'Hide replies', function() {
    Hints.click(document.querySelectorAll("#less-replies:not([hidden])"), true);
});
```

## Hints.create

*   **See**: Hints.dispatchMouseClick

Create hints for elements to click.

### Parameters

*   `cssSelector`  `string or array of HTMLElement`, if `links` is a string, it will be used as css selector.
*   `onHintKey` **[function][79]** a callback function on hint keys pressed.
*   `attrs` **[object][80]** `active`: whether to activate the new tab when a link is opened, `tabbed`: whether to open a link in a new tab, `multipleHits`: whether to stay in hints mode after one hint is triggered. (optional, default `null`)

### Examples

```javascript
mapkey('yA', '#7Copy a link URL to the clipboard', function() {
    Hints.create('*[href]', function(element) {
        Clipboard.write('[' + element.innerText + '](' + element.href + ')');
    });
});
```

## Hints.dispatchMouseClick

*   **See**: Hints.create

The default `onHintKey` implementation.

### Parameters

*   `element` **[HTMLElement][83]** the element for which the pressed hint is targeted.

### Examples

```javascript
mapkey('q', 'click on images', function() {
    Hints.create("div.media_box img", Hints.dispatchMouseClick);
}, {domain: /weibo.com/i});
```

## Hints.style

Set styles for hints.

### Parameters

*   `css` **[string][78]** styles for hints.
*   `mode` **[string][78]** sub mode for hints, use `text` for hints mode to enter visual mode. (optional, default `null`)

### Examples

```javascript
Hints.style('border: solid 3px #552a48; color:#efe1eb; background: none; background-color: #552a48;');
Hints.style("div{border: solid 3px #707070; color:#efe1eb; background: none; background-color: #707070;} div.begin{color:red;}", "text");
```

## Visual.style

Set styles for visual mode.

### Parameters

*   `element` **[string][78]** element in visual mode, which can be `marks` and `cursor`.
*   `style` **[string][78]** css style

### Examples

```javascript
Visual.style('marks', 'background-color: #89a1e2;');
Visual.style('cursor', 'background-color: #9065b7;');
```

## Front.showEditor

Launch the vim editor.

### Parameters

*   `element` **[HTMLElement][83]** the target element which the vim editor is launched for, this parameter can also be a string, which will be used as default content in vim editor.
*   `onWrite` **[function][79]** a callback function to be executed on written back from vim editor.
*   `type` **[string][78]** the type for the vim editor, which can be `url`, if not provided, it will be tag name of the target element. (optional, default `null`)
*   `useNeovim` **[boolean][82]** the vim editor will be the embeded JS implementation, if `useNeovim` is true, neovim will be used through natvie messaging. (optional, default `false`)

### Examples

```javascript
mapkey(';U', '#4Edit current URL with vim editor, and reload', function() {
    Front.showEditor(window.location.href, function(data) {
        window.location.href = data;
    }, 'url');
});
```

## Front.openOmnibar

Open the omnibar.

### Parameters

*   `args` **[object][80]** `type` the sub type for the omnibar, which can be `Bookmarks`, `AddBookmark`, `History`, `URLs`, `RecentlyClosed`, `TabURLs`, `Tabs`, `Windows`, `VIMarks`, `SearchEngine`, `Commands`, `OmniQuery` and `UserURLs`.

### Examples

```javascript
mapkey('ou', '#8Open AWS services', function() {
    var services = Array.from(top.document.querySelectorAll('#awsc-services-container li[data-service-href]')).map(function(li) {
        return {
            title: li.querySelector("span.service-label").textContent,
            url: li.getAttribute('data-service-href')
        };
    });
    if (services.length === 0) {
        services = Array.from(top.document.querySelectorAll('div[data-testid="awsc-nav-service-list"] li[data-testid]>a')).map(function(a) {
            return {
                title: a.innerText,
                url: a.href
            };
        });
    }
    Front.openOmnibar({type: "UserURLs", extra: services});
}, {domain: /console.amazonaws|console.aws.amazon.com/i});
```

## Front.showBanner

Show message in banner.

### Parameters

*   `msg` **[string][78]** the message to be displayed in banner.
*   `timeout` **[number][84]** milliseconds after which the banner will disappear. (optional, default `1600`)

### Examples

```javascript
Front.showBanner(window.location.href);
```

## Front.showPopup

Show message in popup.

### Parameters

*   `msg` **[string][78]** the message to be displayed in popup.

### Examples

```javascript
Front.showPopup(window.location.href);
```

## getClickableElements

Get all clickable elements. SurfingKeys has its own logic to identify clickable elements, such as a `HTMLAnchorElement` or elements with cursor as pointer. This function provides two parameters to identify those clickable elements that SurfingKeys failed to identify.

### Parameters

*   `selectorString` **[string][78]** extra css selector of those clickable elements.
*   `pattern` **regex** a regular expression that matches text of the clickable elements.

### Examples

```javascript
var elms = getClickableElements("[rel=link]", /click this/);
```

Returns **[array][81]** array of clickable elements.

## tabOpenLink

Open links in new tabs.

### Parameters

*   `str` **[string][78]** links to be opened, the links should be split by `\n` if there are more than one.
*   `simultaneousness` **[number][84]** how many tabs will be opened simultaneously, the rest will be queued and opened later whenever a tab is closed. (optional, default `5`)

### Examples

```javascript
mapkey("<Space>", "pause/resume on youtube", function() {
    var btn = document.querySelector("button.ytp-ad-overlay-close-button") || document.querySelector("button.ytp-ad-skip-button") || document.querySelector('ytd-watch-flexy button.ytp-play-button');
    btn.click();
}, {domain: /youtube.com/i});
```

## RUNTIME

Call background `action` with `args`, the `callback` will be executed with response from background.

### Parameters

*   `action` **[string][78]** a background action to be called.
*   `args` **[object][80]** the parameters to be passed to the background action.
*   `callback` **[function][79]** a function to be executed with the result from the background action.

### Examples

```javascript
RUNTIME('getTabs', {queryInfo: {currentWindow: true}}, response => {
  console.log(response);
});
```

[1]: #mapkey

[2]: #parameters

[3]: #examples

[4]: #vmapkey

[5]: #parameters-1

[6]: #imapkey

[7]: #parameters-2

[8]: #map

[9]: #parameters-3

[10]: #examples-1

[11]: #unmap

[12]: #parameters-4

[13]: #examples-2

[14]: #unmapallexcept

[15]: #parameters-5

[16]: #examples-3

[17]: #imap

[18]: #parameters-6

[19]: #iunmap

[20]: #parameters-7

[21]: #cmap

[22]: #parameters-8

[23]: #vmap

[24]: #parameters-9

[25]: #vunmap

[26]: #parameters-10

[27]: #acevimmap

[28]: #parameters-11

[29]: #examples-4

[30]: #addsearchalias

[31]: #parameters-12

[32]: #examples-5

[33]: #removesearchalias

[34]: #parameters-13

[35]: #examples-6

[36]: #clipboardread

[37]: #parameters-14

[38]: #examples-7

[39]: #clipboardwrite

[40]: #parameters-15

[41]: #examples-8

[42]: #hintsclick

[43]: #parameters-16

[44]: #examples-9

[45]: #hintscreate

[46]: #parameters-17

[47]: #examples-10

[48]: #hintsdispatchmouseclick

[49]: #parameters-18

[50]: #examples-11

[51]: #hintsstyle

[52]: #parameters-19

[53]: #examples-12

[54]: #visualstyle

[55]: #parameters-20

[56]: #examples-13

[57]: #frontshoweditor

[58]: #parameters-21

[59]: #examples-14

[60]: #frontopenomnibar

[61]: #parameters-22

[62]: #examples-15

[63]: #frontshowbanner

[64]: #parameters-23

[65]: #examples-16

[66]: #frontshowpopup

[67]: #parameters-24

[68]: #examples-17

[69]: #getclickableelements

[70]: #parameters-25

[71]: #examples-18

[72]: #tabopenlink

[73]: #parameters-26

[74]: #examples-19

[75]: #runtime

[76]: #parameters-27

[77]: #examples-20

[78]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[79]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[80]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[81]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[82]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[83]: https://developer.mozilla.org/docs/Web/HTML/Element

[84]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number
